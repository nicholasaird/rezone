language: cpp

os: linux
sudo: required
dist: trusty

matrix:
    include:
        - compiler: g++
          env: COMPILER=g++-5 CONFIG=Release
          addons:
              apt:
                  sources: ['ubuntu-toolchain-r-test']
                  packages: ['g++-5']

        - compiler: g++
          env: COMPILER=g++-5 CONFIG=DEBUG COVERAGE=on
          addons:
              apt:
                  sources: ['ubuntu-toolchain-r-test']
                  packages: ['g++-5']

        - compiler: clang++
          env: COMPILER=clang++-3.9 CONFIG=RELEASE
          addons:
              apt:
                  sources: ['ubuntu-toolchain-r-test', 'llvm-toolchain-precise-3.9']
                  packages: ['clang-3.9']

before_install:
    - chmod u+x travisAfterSuccess.sh travisScript.sh travisInstall.sh

install:
    - ./travisInstall.sh

script:
    - echo "Using compiler:"
    - ${COMPILER} -v
    - ./travisScript.sh

after_success:
    - ./travisAfterSuccess.sh

notifications:
    email: false
